<%# Shared filters form for sites index page %>
<%# Parameters:
  - form_action: The path where the form should submit (namespace-specific)
  - style: 'admin' or 'manager' for styling variations
%>
<% style ||= 'admin' %>

<% if style == 'admin' %>
  <div class="alert alert-info mb-6">
    <strong>Filtres de Recherche:</strong> Utilisez les filtres ci-dessous pour affiner la liste des sites
  </div>
<% else %>
  <h3>Filtres de Recherche</h3>
  <p style="color: rgba(255, 255, 255, 0.7); margin-bottom: 1.5rem;">Utilisez les filtres ci-dessous pour affiner la liste des sites</p>
<% end %>

<form method="get" action="<%= form_action %>">
  <div class="form-grid">
    <div class="form-group">
      <label for="search">Rechercher</label>
      <input 
        type="text" 
        name="search" 
        id="search" 
        placeholder="Nom du site ou code..."
        value="<%= params[:search] %>"
        <% if style == 'manager' %>
          style="background: rgba(255, 255, 255, 0.05); border: 1px solid rgba(0, 212, 255, 0.3); color: white; padding: 0.75rem; border-radius: 0.5rem; width: 100%;"
        <% end %>>
    </div>

    <div class="form-group">
      <label for="status">Statut</label>
      <select 
        name="status" 
        id="status"
        <% if style == 'manager' %>
          style="background: rgba(255, 255, 255, 0.05); border: 1px solid rgba(0, 212, 255, 0.3); color: white; padding: 0.75rem; border-radius: 0.5rem; width: 100%;"
        <% end %>>
        <option value="">Tous les sites</option>
        <option value="active" <%= 'selected' if params[:status] == 'active' %>>Actifs</option>
        <option value="inactive" <%= 'selected' if params[:status] == 'inactive' %>>Inactifs</option>
      </select>
    </div>
  </div>

  <div class="button-group" <%= 'style="margin-top: 1.5rem;"' if style == 'manager' %>>
    <button type="submit" class="btn-primary">
      <svg class="btn-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"/>
      </svg>
      <% if style == 'manager' %><span><% end %>Appliquer les filtres<% if style == 'manager' %></span><% end %>
    </button>
    <a href="<%= form_action %>" class="btn-secondary">
      <svg class="btn-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"/>
      </svg>
      <% if style == 'manager' %><span><% end %>RÃ©initialiser<% if style == 'manager' %></span><% end %>
    </a>
  </div>
</form>
