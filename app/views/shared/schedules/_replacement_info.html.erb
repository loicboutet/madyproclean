<% if @schedule[:replaced_by_id] %>
  <!-- Replacement Information -->
  <div class="card" style="border-left: 4px solid #f59e0b;">
    <h2 class="mb-6" style="font-size: 1.875rem;">
      <svg class="inline-block w-6 h-6 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"/>
      </svg>
      Informations de Remplacement
    </h2>

    <div class="alert alert-warning mb-6">
      <strong><%= local_assigns[:warning_text] || 'âš  Attention: Cet horaire a fait l\'objet d\'un remplacement d\'agent' %></strong>
    </div>

    <div class="form-grid">
      <% if local_assigns[:show_original_agent] %>
        <div class="form-group">
          <label>Agent Initial</label>
          <div class="">
            <p class="font-semibold"><%= @schedule[:user_name] %></p>
            <p class="text-sm opacity-70"><%= @schedule[:employee_number] %></p>
          </div>
        </div>
      <% end %>

      <div class="form-group">
        <label>Agent de Remplacement</label>
        <div class="p-3 bg-orange-50 rounded-lg border border-orange-200">
          <p class="font-semibold text-orange-800">ðŸ”„ <%= @schedule[:replaced_by_name] %></p>
          <p class="text-sm opacity-70"><%= local_assigns[:replacement_label] || 'Agent actif pour cette mission' %></p>
        </div>
      </div>
    </div>

    <% if @schedule[:replacement_reason].present? %>
      <div class="divider"></div>
      <div class="form-group">
        <label>Raison du Remplacement</label>
        <div class="p-4 bg-orange-50 rounded-lg border border-orange-200">
          <p class="text-base"><%= @schedule[:replacement_reason] %></p>
        </div>
      </div>
    <% end %>
  </div>
<% end %>
